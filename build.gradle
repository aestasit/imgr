apply plugin: 'groovy'
apply plugin: 'application'

group = 'com.aestasit.infrastructure'
version = '0.1-SNAPSHOT'

sourceCompatibility = '1.6'
targetCompatibility = '1.6'
mainClassName = "com.aestasit.infrastructure.Packer"

repositories {
  mavenCentral()
  maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
}

dependencies {
  compile localGroovy()
  compile 'com.aestasit.cloud.aws:gramazon:0.2-SNAPSHOT'
  compile 'com.aestasit.gradle:gradle-ssh-plugin:0.8-SNAPSHOT'
  compile 'org.slf4j:slf4j-api:1.7.5'

  testRuntime 'ch.qos.logback:logback-classic:1.0.13'
  testRuntime 'ch.qos.logback:logback-core:1.0.13'

  testCompile 'junit:junit:4.+'
}


test.doFirst {
  systemProperties = System.getProperties()
  project.properties.each { key, value ->
    if (key.startsWith("aws")) {
      systemProperties[key] = value
    }
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '1.6'
}
