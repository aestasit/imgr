apply plugin: 'groovy'
apply plugin: 'application'
apply plugin: 'idea'

group = 'com.aestasit.infrastructure'
version = '0.1-SNAPSHOT'

sourceCompatibility = '1.6'
targetCompatibility = '1.6'

mainClassName = "com.aestasit.infrastructure.Packer"

repositories {
  mavenCentral()
  maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
}

configure(allprojects) {
ext.groovy = '2.1.0'
  ext.slf4jVersion = '1.7.5'
  ext.logbackVersion = '1.0.13'
}

dependencies {

  compile "org.codehaus.groovy:groovy-all:${groovy}"
  compile 'com.aestasit.cloud.aws:gramazon:0.2-SNAPSHOT'
  compile 'com.aestasit.gradle:gradle-ssh-plugin:0.8-SNAPSHOT'
  compile "org.slf4j:slf4j-api:$slf4jVersion"
  compile "ch.qos.logback:logback-classic:$logbackVersion"
  compile "org.slf4j:jcl-over-slf4j:$slf4jVersion"
  testCompile 'junit:junit:4.+'

}


test.doFirst {
  systemProperties = System.getProperties()
  project.properties.each { key, value ->
    if (key.startsWith("aws")) {
      systemProperties[key] = value
    }
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '1.6'
}
